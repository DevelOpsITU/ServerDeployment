<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="268px" preserveAspectRatio="none" style="width:1375px;height:268px;" version="1.1" viewBox="0 0 1375 268" width="1375px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m8j070sasm0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[79f61e8ca28677f0aa564a7a9a2d115d]
cluster Monitoring server--><rect fill="#FFFFFF" filter="url(#f1m8j070sasm0)" height="135" style="stroke: #000000; stroke-width: 1.5;" width="1263" x="101.5" y="109.9947"/><path d="M252.5,110.9947 L252.5,119.2916 L242.5,129.2916 L101.5,129.2916 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="104.5" y="123.9898">Monitoring server</text><!--MD5=[9752c21153efdf0edb1eccc8cab685a6]
cluster Docker monitoring-network--><rect fill="#FFFFFF" filter="url(#f1m8j070sasm0)" height="100" style="stroke: #000000; stroke-width: 1.5;" width="960" x="396.5" y="136.9947"/><path d="M624.5,137.9947 L624.5,146.2916 L614.5,156.2916 L396.5,156.2916 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="399.5" y="150.9898">Docker monitoring-network</text><!--MD5=[fb1239b090e799ef2ed2bb62c488a4ee]
entity Docker--><polygon fill="#F0F8FF" filter="url(#f1m8j070sasm0)" points="109.5,192.9947,119.5,182.9947,199.5,182.9947,199.5,219.2916,189.5,229.2916,109.5,229.2916,109.5,192.9947" style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="189.5" x2="198.5" y1="192.9947" y2="183.9947"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="109.5" x2="189.5" y1="192.9947" y2="192.9947"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="189.5" x2="189.5" y1="192.9947" y2="229.2916"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="124.5" y="215.9898">Docker</text><!--MD5=[b7709df717efd9e6df0e9843c5de81db]
entity Nginx--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="404.5,192.9947,414.5,182.9947,482.5,182.9947,482.5,219.2916,472.5,229.2916,404.5,229.2916,404.5,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="472.5" x2="481.5" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="404.5" x2="472.5" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="472.5" x2="472.5" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="419.5" y="215.9898">Nginx</text><!--MD5=[6b28daa5982a9ec73f7c9a1bdfb977b5]
entity node_exporter--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="1207,192.9947,1217,182.9947,1348,182.9947,1348,219.2916,1338,229.2916,1207,229.2916,1207,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1338" x2="1347" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1207" x2="1338" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1338" x2="1338" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="1222" y="215.9898">node_exporter</text><!--MD5=[76c72a0d0666ffe20c687699125b4b7c]
entity prometheus--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="779,192.9947,789,182.9947,904,182.9947,904,219.2916,894,229.2916,779,229.2916,779,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="894" x2="903" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="779" x2="894" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="894" x2="894" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="794" y="215.9898">prometheus</text><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="653,192.9947,663,182.9947,744,182.9947,744,219.2916,734,229.2916,653,229.2916,653,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="734" x2="743" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="653" x2="734" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="734" x2="734" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="668" y="215.9898">grafana</text><!--MD5=[24ae6a5474e916cd85c833de88942229]
entity loki--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="555,192.9947,565,182.9947,618,182.9947,618,219.2916,608,229.2916,555,229.2916,555,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="608" x2="617" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="555" x2="608" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="608" x2="608" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="570" y="215.9898">loki</text><!--MD5=[1895bfc763e0fa516090697cfb26fc14]
entity data_scraper--><polygon fill="#FEFECE" filter="url(#f1m8j070sasm0)" points="1043,192.9947,1053,182.9947,1172,182.9947,1172,219.2916,1162,229.2916,1043,229.2916,1043,192.9947" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1162" x2="1171" y1="192.9947" y2="183.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1043" x2="1162" y1="192.9947" y2="192.9947"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1162" x2="1162" y1="192.9947" y2="229.2916"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="1058" y="215.9898">data_scraper</text><!--MD5=[f83ae91a690dfc657e1c5fbbd818f13d]
entity a--><ellipse cx="21.5" cy="174.9947" fill="#FEFECE" filter="url(#f1m8j070sasm0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M21.5,182.9947 L21.5,209.9947 M8.5,190.9947 L34.5,190.9947 M21.5,209.9947 L8.5,224.9947 M21.5,209.9947 L34.5,224.9947 " fill="none" filter="url(#f1m8j070sasm0)" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="6" y="243.4898">alice</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.1155,177.6931 C41.8022,171.776 47.523,166.3271 54.25,162.9947 C69.3837,155.4977 76.1267,157.9674 92.25,162.9947 C103.661,166.5527 114.8253,173.0145 124.4764,179.8662 " fill="none" id="a-&gt;Docker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="128.5162,182.8192,123.6108,174.2789,124.4796,179.8686,118.8899,180.7374,128.5162,182.8192" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="63.25" y="153.0616">:80</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.1155,234.2963 C41.8022,240.2134 47.523,245.6622 54.25,248.9947 C69.3837,256.4917 76.1267,254.022 92.25,248.9947 C103.661,245.4367 114.8253,238.9748 124.4764,232.1231 " fill="none" id="a-&gt;Docker-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="128.5162,229.1701,118.8899,231.2519,124.4796,232.1207,123.6108,237.7104,128.5162,229.1701" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="59.25" y="245.0616">:443</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.0171,205.9947 C53.5221,205.9947 80.4988,205.9947 104.4416,205.9947 " fill="none" id="a-&gt;Docker-2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109.4998,205.9947,100.4998,201.9947,104.4998,205.9947,100.4998,209.9947,109.4998,205.9947" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="55.25" y="199.0616">:3100</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.0035,194.1406 C42.2045,190.8367 48.2214,187.6899 54.25,185.9947 C70.3525,181.4667 88.1866,182.9837 104.2947,186.7083 " fill="none" id="a-&gt;Docker-3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109.2346,187.9308,101.4591,181.8859,104.381,186.7297,99.5372,189.6516,109.2346,187.9308" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="55.25" y="176.0616">:9090</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.0035,217.8488 C42.2045,221.1526 48.2214,224.2994 54.25,225.9947 C70.3525,230.5227 88.1866,229.0057 104.2947,225.2811 " fill="none" id="a-&gt;Docker-4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109.2346,224.0585,99.5372,222.3377,104.381,225.2596,101.4591,230.1034,109.2346,224.0585" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="55.25" y="222.0616">:9100</text><!--MD5=[63c91d84c81b1a4a2a11c7d312d6534b]
link Docker to Nginx--><path d="M199.6563,205.9947 C254.0984,205.9947 345.0059,205.9947 399.1053,205.9947 " fill="none" id="Docker-&gt;Nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="404.2234,205.9947,395.2234,201.9947,399.2234,205.9947,395.2234,209.9947,404.2234,205.9947" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="218" y="199.0616">:80, :443, :3100 and :9090</text><!--MD5=[f98440d037d0188a8435fba98d8b4ed2]
link prometheus to node_exporter--><path d="M875.2208,182.8118 C910.7572,159.9023 969.2697,126.3977 1025.5,112.9947 C1096.4025,96.0944 1122.551,84.1741 1189.5,112.9947 C1220.3167,126.2608 1245.3856,156.2129 1260.7718,178.5632 " fill="none" id="prometheus-&gt;node_exporter" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="1263.7188,182.9247,1261.9945,173.228,1260.9195,178.7817,1255.3658,177.7068,1263.7188,182.9247" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1037.5" y="98.0616">:9100</text><!--MD5=[6b5f236dcba537b95a9e181ba86f8098]
link prometheus to data_scraper--><path d="M904.2015,205.9947 C944.2661,205.9947 996.2741,205.9947 1037.6574,205.9947 " fill="none" id="prometheus-&gt;data_scraper" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1042.9072,205.9947,1033.9072,201.9947,1037.9072,205.9947,1033.9072,209.9947,1042.9072,205.9947" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="955.5" y="199.0616">:8080</text><!--MD5=[2090fa2c53cf85d014e6fcbf39a69768]
link prometheus to prometheus--><path d="M904.3295,197.3781 C923.7498,197.5522 939,200.4244 939,205.9947 C939,211.0428 926.4751,213.8749 909.6724,214.4912 " fill="none" id="prometheus-&gt;prometheus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="904.3295,214.6113,913.4172,218.4079,909.3282,214.4989,913.2373,210.4099,904.3295,214.6113" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="945" y="210.5616">:9090</text><!--MD5=[90f7db2ea243b18b17189a87c160f090]
link Nginx to grafana--><path d="M458.6042,182.8843 C474.9494,160.2081 503.3154,127.0474 537.5,112.9947 C577.7845,96.4343 597.0223,92.585 635.5,112.9947 C661.2345,126.645 678.3865,156.029 688.21,178.1381 " fill="none" id="Nginx-&gt;grafana" style="stroke: #008000; stroke-width: 1.0;"/><polygon fill="#008000" points="690.1954,182.7372,690.3008,172.8889,688.2137,178.1467,682.9559,176.0596,690.1954,182.7372" style="stroke: #008000; stroke-width: 1.0;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="537.5" y="98.0616">:3000</text><!--MD5=[669205ded203962608cfa9aa699e810b]
link Nginx to loki--><path d="M482.5754,205.9947 C503.4635,205.9947 529.0358,205.9947 549.5864,205.9947 " fill="none" id="Nginx-&gt;loki" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="554.6971,205.9947,545.6971,201.9947,549.6971,205.9947,545.6971,209.9947,554.6971,205.9947" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="500.75" y="199.0616">:3100</text><!--MD5=[5725b5c275f77c55d3986efa190312da]
link Nginx to prometheus--><path d="M458.6042,182.8843 C474.9494,160.2081 503.3154,127.0474 537.5,112.9947 C583.5394,94.0686 716.2579,92.2347 761.5,112.9947 C790.717,126.4013 813.2916,156.3282 826.8998,178.6342 " fill="none" id="Nginx-&gt;prometheus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="829.5012,182.9866,828.3174,173.2091,826.9361,178.6947,821.4505,177.3134,829.5012,182.9866" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="688.5" y="98.0616">:9090</text><!--MD5=[211bd627a7c99f26eb242fe911af4529]
@startuml deployment
actor alice as a
frame "Monitoring server" {

  node  Docker #aliceblue;line:blue;line.dotted;text:blue
  frame "Docker monitoring-network" {
    node Nginx
    node node_exporter
    node prometheus
    node grafana
    node loki
    node data_scraper
  }


a -> Docker : ":80"
a -> Docker : ":443"
a -> Docker : ":3100"
a -> Docker : ":9090" 
a -> Docker : ":9100"

Docker -> Nginx : ":80, :443, :3100 and :9090"




prometheus -> node_exporter #line:red;text:red : ":9100"
prometheus -> data_scraper : ":8080"
prometheus -> prometheus : ":9090" 


Nginx -> grafana #line:green;text:green : ":3000"
Nginx -> loki #line:blue;text:blue :":3100"
Nginx -> prometheus : ":9090"




}
@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14-ea+33
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>