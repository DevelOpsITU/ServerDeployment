<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="433px" preserveAspectRatio="none" style="width:2698px;height:433px;" version="1.1" viewBox="0 0 2698 433" width="2698px" zoomAndPan="magnify"><defs><filter height="300%" id="f116fxeb2l3n2w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[f05610748f6640c769b75bf0fa25631d]
cluster Application server--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="135" style="stroke: #000000; stroke-width: 1.5;" width="593" x="101.5" y="109.5"/><path d="M255.5,110.5 L255.5,118.7969 L245.5,128.7969 L101.5,128.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="104.5" y="123.4951">Application server</text><!--MD5=[c57fe63ccc784df5cb2ee51a1a3f4b5c]
cluster Docker app-network--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="100" style="stroke: #000000; stroke-width: 1.5;" width="246" x="440.5" y="136.5"/><path d="M612.5,137.5 L612.5,145.7969 L602.5,155.7969 L440.5,155.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="443.5" y="150.4951">Docker app-network</text><!--MD5=[2bfe0191b62a651585c6d39e50c16673]
cluster Database server--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="312.5" style="stroke: #000000; stroke-width: 1.5;" width="643" x="742.5" y="109.5"/><path d="M882.5,110.5 L882.5,118.7969 L872.5,128.7969 L742.5,128.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="745.5" y="123.4951">Database server</text><!--MD5=[7854ce3fc07382973a3b4c9e23a1f497]
cluster dockernet--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="100" style="stroke: #000000; stroke-width: 1.5;" width="278" x="1099.5" y="136.5"/><path d="M1262.5,137.5 L1262.5,145.7969 L1252.5,155.7969 L1099.5,155.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="1102.5" y="150.4951">Docker db-network</text><!--MD5=[79f61e8ca28677f0aa564a7a9a2d115d]
cluster Monitoring server--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="135" style="stroke: #000000; stroke-width: 1.5;" width="1291" x="1396.5" y="109.5"/><path d="M1547.5,110.5 L1547.5,118.7969 L1537.5,128.7969 L1396.5,128.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="1399.5" y="123.4951">Monitoring server</text><!--MD5=[9752c21153efdf0edb1eccc8cab685a6]
cluster Docker monitoring-network--><rect fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" height="100" style="stroke: #000000; stroke-width: 1.5;" width="979" x="1700.5" y="136.5"/><path d="M1928.5,137.5 L1928.5,145.7969 L1918.5,155.7969 L1700.5,155.7969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="1703.5" y="150.4951">Docker monitoring-network</text><!--MD5=[fb1239b090e799ef2ed2bb62c488a4ee]
entity Docker--><polygon fill="#F0F8FF" filter="url(#f116fxeb2l3n2w)" points="109.5,192.5,119.5,182.5,199.5,182.5,199.5,218.7969,189.5,228.7969,109.5,228.7969,109.5,192.5" style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="189.5" x2="198.5" y1="192.5" y2="183.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="109.5" x2="189.5" y1="192.5" y2="192.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="189.5" x2="189.5" y1="192.5" y2="228.7969"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="124.5" y="215.4951">Docker</text><!--MD5=[6b28daa5982a9ec73f7c9a1bdfb977b5]
entity node_exporter--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="272,192.5,282,182.5,413,182.5,413,218.7969,403,228.7969,272,228.7969,272,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="403" x2="412" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="272" x2="403" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="403" x2="403" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="287" y="215.4951">node_exporter</text><!--MD5=[b7709df717efd9e6df0e9843c5de81db]
entity Nginx--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="448.5,192.5,458.5,182.5,526.5,182.5,526.5,218.7969,516.5,228.7969,448.5,228.7969,448.5,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="516.5" x2="525.5" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="448.5" x2="516.5" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="516.5" x2="516.5" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="463.5" y="215.4951">Nginx</text><!--MD5=[7738ae4e309240ee5bb913c966e16783]
entity MiniTwit--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="583,192.5,593,182.5,678,182.5,678,218.7969,668,228.7969,583,228.7969,583,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="668" x2="677" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="583" x2="668" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="668" x2="668" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="598" y="215.4951">MiniTwit</text><!--MD5=[5f26fe16352f8452c0b62382de3e4973]
entity Docker2--><polygon fill="#F0F8FF" filter="url(#f116fxeb2l3n2w)" points="751,192.5,761,182.5,850,182.5,850,218.7969,840,228.7969,751,228.7969,751,192.5" style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="840" x2="849" y1="192.5" y2="183.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="751" x2="840" y1="192.5" y2="192.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="840" x2="840" y1="192.5" y2="228.7969"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="766" y="215.4951">Docker2</text><!--MD5=[3aea9ee7c3fb7e8223e1b632fe7b4a91]
entity node_exporter2--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="922.5,192.5,932.5,182.5,1072.5,182.5,1072.5,218.7969,1062.5,228.7969,922.5,228.7969,922.5,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1062.5" x2="1071.5" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="922.5" x2="1062.5" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1062.5" x2="1062.5" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="937.5" y="215.4951">node_exporter2</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M1216,379 C1216,369 1296.5,369 1296.5,369 C1296.5,369 1377,369 1377,379 L1377,404.2969 C1377,414.2969 1296.5,414.2969 1296.5,414.2969 C1296.5,414.2969 1216,414.2969 1216,404.2969 L1216,379 " fill="#FFFFFF" filter="url(#f116fxeb2l3n2w)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1216,379 C1216,389 1296.5,389 1296.5,389 C1296.5,389 1377,389 1377,379 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1226" y="405.9951">./data/postgres/data</text><!--MD5=[7197bbcf31228fa4ec538d49c8a3b65e]
entity Nginx2--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="1108,192.5,1118,182.5,1195,182.5,1195,218.7969,1185,228.7969,1108,228.7969,1108,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1185" x2="1194" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1108" x2="1185" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1185" x2="1185" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1123" y="215.4951">Nginx2</text><!--MD5=[7fbd20eab0f047d95d8cf961cd333b40]
entity Postgres--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="1267.5,192.5,1277.5,182.5,1369.5,182.5,1369.5,218.7969,1359.5,228.7969,1267.5,228.7969,1267.5,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1359.5" x2="1368.5" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1267.5" x2="1359.5" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1359.5" x2="1359.5" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1282.5" y="215.4951">Postgres</text><!--MD5=[3ecc43cc3ba73fa894ea0c3710f665d5]
entity Docker3--><polygon fill="#F0F8FF" filter="url(#f116fxeb2l3n2w)" points="1405,192.5,1415,182.5,1504,182.5,1504,218.7969,1494,228.7969,1405,228.7969,1405,192.5" style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="1494" x2="1503" y1="192.5" y2="183.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="1405" x2="1494" y1="192.5" y2="192.5"/><line style="stroke: #0000FF; stroke-width: 1.0; stroke-dasharray: 1.0,3.0;" x1="1494" x2="1494" y1="192.5" y2="228.7969"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1420" y="215.4951">Docker3</text><!--MD5=[d4a913ec1db7b5ca1d04e9719e06002b]
entity Nginx3--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="1709,192.5,1719,182.5,1796,182.5,1796,218.7969,1786,228.7969,1709,228.7969,1709,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1786" x2="1795" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1709" x2="1786" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1786" x2="1786" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1724" y="215.4951">Nginx3</text><!--MD5=[558e1373a1a837a34bbfba8f88be38b4]
entity node_exporter3--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="2521.5,192.5,2531.5,182.5,2671.5,182.5,2671.5,218.7969,2661.5,228.7969,2521.5,228.7969,2521.5,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2661.5" x2="2670.5" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2521.5" x2="2661.5" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2661.5" x2="2661.5" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="2536.5" y="215.4951">node_exporter3</text><!--MD5=[76c72a0d0666ffe20c687699125b4b7c]
entity prometheus--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="2093,192.5,2103,182.5,2218,182.5,2218,218.7969,2208,228.7969,2093,228.7969,2093,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2208" x2="2217" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2093" x2="2208" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2208" x2="2208" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="2108" y="215.4951">prometheus</text><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="1967,192.5,1977,182.5,2058,182.5,2058,218.7969,2048,228.7969,1967,228.7969,1967,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2048" x2="2057" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1967" x2="2048" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2048" x2="2048" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1982" y="215.4951">grafana</text><!--MD5=[24ae6a5474e916cd85c833de88942229]
entity loki--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="1869,192.5,1879,182.5,1932,182.5,1932,218.7969,1922,228.7969,1869,228.7969,1869,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1922" x2="1931" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1869" x2="1922" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1922" x2="1922" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="1884" y="215.4951">loki</text><!--MD5=[1895bfc763e0fa516090697cfb26fc14]
entity data_scraper--><polygon fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" points="2357,192.5,2367,182.5,2486,182.5,2486,218.7969,2476,228.7969,2357,228.7969,2357,192.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2476" x2="2485" y1="192.5" y2="183.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2357" x2="2476" y1="192.5" y2="192.5"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2476" x2="2476" y1="192.5" y2="228.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="2372" y="215.4951">data_scraper</text><!--MD5=[f83ae91a690dfc657e1c5fbbd818f13d]
entity a--><ellipse cx="21.5" cy="174.5" fill="#FEFECE" filter="url(#f116fxeb2l3n2w)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M21.5,182.5 L21.5,209.5 M8.5,190.5 L34.5,190.5 M21.5,209.5 L8.5,224.5 M21.5,209.5 L34.5,224.5 " fill="none" filter="url(#f116fxeb2l3n2w)" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="6" y="242.9951">alice</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.2395,216.3091 C43.4911,219.9868 50.929,223.6369 58.25,225.5 C73.11,229.2817 89.3946,227.9456 104.2735,224.6182 " fill="none" id="a-&gt;Docker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109.2614,223.418,99.5754,221.6345,104.4002,224.5877,101.4469,229.4125,109.2614,223.418" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="59.25" y="221.5669">:443</text><!--MD5=[f22868d95b2ddc1b3d5fa39279155bfe]
link a to Docker--><path d="M37.0171,205.5 C53.5221,205.5 80.4988,205.5 104.4416,205.5 " fill="none" id="a-&gt;Docker-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109.4998,205.5,100.4998,201.5,104.4998,205.5,100.4998,209.5,109.4998,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="55.25" y="198.5669">:9100</text><!--MD5=[63c91d84c81b1a4a2a11c7d312d6534b]
link Docker to Nginx--><path d="M170.9163,182.3537 C188.5821,159.6488 218.9758,126.4657 254.5,112.5 C293.7947,97.052 408.927,89.7563 444.5,112.5 C466.5605,126.6045 477.4683,155.2367 482.7553,177.0266 " fill="none" id="Docker-&gt;Nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="483.9213,182.1242,485.8136,172.4588,482.8063,177.2501,478.015,174.2428,483.9213,182.1242" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="417.5" y="97.5669">:443</text><!--MD5=[8578e2f289a9671db1a18744231793a0]
link Nginx to MiniTwit--><path d="M526.5754,205.5 C542.3132,205.5 560.71,205.5 577.6147,205.5 " fill="none" id="Nginx-&gt;MiniTwit" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="582.8085,205.5,573.8085,201.5,577.8085,205.5,573.8085,209.5,582.8085,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="544.75" y="198.5669">:80</text><!--MD5=[e9cb91a96227b8016451fb25b43649f7]
link Docker to node_exporter--><path d="M199.5307,205.5 C219.6279,205.5 243.8685,205.5 266.6341,205.5 " fill="none" id="Docker-&gt;node_exporter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="271.7716,205.5,262.7716,201.5,266.7716,205.5,262.7716,209.5,271.7716,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="217.75" y="198.5669">:9100</text><!--MD5=[d6513a354c108df22b6b32a15d2ebee2]
link a to Docker2--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C153.4546,83.094 632.0048,88.9708 694.5,112.5 C729.3703,125.6286 760.2442,156.0174 779.5487,178.5033 " fill="none" id="a-&gt;Docker2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="782.7814,182.3216,780.0187,172.8682,779.5506,178.5056,773.9131,178.0375,782.7814,182.3216" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="372.5" y="97.5669">:9100</text><!--MD5=[f756e714735bf8853935f4b6e2127291]
link Nginx2 to Postgres--><path d="M1195.3773,205.5 C1215.7757,205.5 1240.281,205.5 1262.0402,205.5 " fill="none" id="Nginx2-&gt;Postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1267.2169,205.5,1258.2169,201.5,1262.2169,205.5,1258.2169,209.5,1267.2169,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1213.25" y="198.5669">:5432</text><!--MD5=[8552e278df2e112a5fcc8d1ca3d1047a]
link MiniTwit to Docker2--><path d="M678.3069,205.5 C699.3089,205.5 724.0844,205.5 745.8172,205.5 " fill="none" id="MiniTwit-&gt;Docker2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="750.9819,205.5,741.9819,201.5,745.9819,205.5,741.9819,209.5,750.9819,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="696.5" y="221.5669">:5432</text><!--MD5=[62093c2a79672732a190749c6551527a]
link Docker2 to Nginx2--><path d="M818.0022,182.3267 C836.7624,159.6004 868.8412,126.4004 905.5,112.5 C946.8494,96.821 1066.8325,89.3318 1104.5,112.5 C1127.4211,126.5981 1139.5737,155.7118 1145.7333,177.6314 " fill="none" id="Docker2-&gt;Nginx2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1147.0301,182.4717,1148.5647,172.7431,1145.7361,177.642,1140.8372,174.8135,1147.0301,182.4717" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="960.5" y="97.5669">:5432</text><!--MD5=[0683b354d26a6949b6420bee4617ece7]
link Docker2 to node_exporter2--><path d="M850.2114,205.5 C870.5575,205.5 894.6191,205.5 917.3326,205.5 " fill="none" id="Docker2-&gt;node_exporter2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="922.4608,205.5,913.4608,201.5,917.4608,205.5,913.4608,209.5,922.4608,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="868.25" y="198.5669">:9100</text><!--MD5=[092d73527819b1e10ca05d2b56cb54f5]
link Postgres to db--><path d="M1315.7582,228.681 C1311.5078,264.6156 1303.381,333.3242 1299.173,368.9012 " fill="none" id="Postgres-db" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e83c390819cd8129ca0cfb52dbdcf1a3]
link a to Docker3--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C157.9438,80.8922 1321.3834,80.2338 1385.5,112.5 C1412.3257,125.9998 1431.3383,155.4089 1442.5223,177.5651 " fill="none" id="a-&gt;Docker3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1444.79,182.1746,1444.4063,172.3332,1442.5828,177.6881,1437.2279,175.8647,1444.79,182.1746" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="38.5" y="97.5669">:80</text><!--MD5=[e83c390819cd8129ca0cfb52dbdcf1a3]
link a to Docker3--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C157.9438,80.8922 1321.3834,80.2338 1385.5,112.5 C1412.3257,125.9998 1431.3383,155.4089 1442.5223,177.5651 " fill="none" id="a-&gt;Docker3-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1444.79,182.1746,1444.4063,172.3332,1442.5828,177.6881,1437.2279,175.8647,1444.79,182.1746" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="34.5" y="97.5669">:443</text><!--MD5=[e83c390819cd8129ca0cfb52dbdcf1a3]
link a to Docker3--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C157.9438,80.8922 1321.3834,80.2338 1385.5,112.5 C1412.3257,125.9998 1431.3383,155.4089 1442.5223,177.5651 " fill="none" id="a-&gt;Docker3-2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1444.79,182.1746,1444.4063,172.3332,1442.5828,177.6881,1437.2279,175.8647,1444.79,182.1746" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="30.5" y="97.5669">:3100</text><!--MD5=[e83c390819cd8129ca0cfb52dbdcf1a3]
link a to Docker3--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C157.9438,80.8922 1321.3834,80.2338 1385.5,112.5 C1412.3257,125.9998 1431.3383,155.4089 1442.5223,177.5651 " fill="none" id="a-&gt;Docker3-3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1444.79,182.1746,1444.4063,172.3332,1442.5828,177.6881,1437.2279,175.8647,1444.79,182.1746" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="30.5" y="97.5669">:9090</text><!--MD5=[e83c390819cd8129ca0cfb52dbdcf1a3]
link a to Docker3--><path d="M37.1644,172.3472 C49.255,150.9638 68.2009,124.9085 93.5,112.5 C157.9438,80.8922 1321.3834,80.2338 1385.5,112.5 C1412.3257,125.9998 1431.3383,155.4089 1442.5223,177.5651 " fill="none" id="a-&gt;Docker3-4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1444.79,182.1746,1444.4063,172.3332,1442.5828,177.6881,1437.2279,175.8647,1444.79,182.1746" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="30.5" y="97.5669">:9100</text><!--MD5=[f8993001e3e5a6a105d7cfb8aa7e7740]
link Docker3 to Nginx3--><path d="M1504.0432,205.5 C1559.3574,205.5 1648.3265,205.5 1703.4427,205.5 " fill="none" id="Docker3-&gt;Nginx3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1708.6686,205.5,1699.6686,201.5,1703.6686,205.5,1699.6686,209.5,1708.6686,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="1522.5" y="198.5669">:80, :443, :3100 and :9090</text><!--MD5=[35b6f55c04eb9ef1f6c4ccc82d277987]
link prometheus to node_exporter3--><path d="M2189.2208,182.3172 C2224.7572,159.4077 2283.2697,125.903 2339.5,112.5 C2410.4025,95.5997 2436.1594,84.6066 2503.5,112.5 C2535.4738,125.744 2562.1863,155.9049 2578.6598,178.3089 " fill="none" id="prometheus-&gt;node_exporter3" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="2581.6155,182.3961,2579.5828,172.7593,2578.6855,178.3445,2573.1003,177.4473,2581.6155,182.3961" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="2351.5" y="97.5669">:9100</text><!--MD5=[6b5f236dcba537b95a9e181ba86f8098]
link prometheus to data_scraper--><path d="M2218.2015,205.5 C2258.2661,205.5 2310.2741,205.5 2351.6574,205.5 " fill="none" id="prometheus-&gt;data_scraper" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2356.9072,205.5,2347.9072,201.5,2351.9072,205.5,2347.9072,209.5,2356.9072,205.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="2269.5" y="198.5669">:8080</text><!--MD5=[2090fa2c53cf85d014e6fcbf39a69768]
link prometheus to prometheus--><path d="M2218.3295,192.3878 C2237.7498,192.6527 2253,197.0234 2253,205.5 C2253,213.1819 2240.4751,217.4917 2223.6724,218.4294 " fill="none" id="prometheus-&gt;prometheus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2218.3295,218.6122,2227.4611,222.3018,2223.3266,218.4411,2227.1873,214.3065,2218.3295,218.6122" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="2259" y="210.0669">:9090</text><!--MD5=[e2f9d80cae9e7f589a3a076a1af4076e]
link Nginx3 to grafana--><path d="M1768.6983,182.3594 C1786.1446,159.6591 1816.2008,126.4795 1851.5,112.5 C1891.9955,96.4626 1911.0223,92.0903 1949.5,112.5 C1975.2345,126.1503 1992.3865,155.5343 2002.21,177.6434 " fill="none" id="Nginx3-&gt;grafana" style="stroke: #008000; stroke-width: 1.0;"/><polygon fill="#008000" points="2004.1954,182.2426,2004.3005,172.3943,2002.2136,177.6521,1996.9558,175.5652,2004.1954,182.2426" style="stroke: #008000; stroke-width: 1.0;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1850.5" y="97.5669">:3000</text><!--MD5=[08be4b76d970056c87a6cee7d81c060c]
link Nginx3 to loki--><path d="M1796.1044,205.5 C1817.6421,205.5 1843.3377,205.5 1863.8465,205.5 " fill="none" id="Nginx3-&gt;loki" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="1868.9432,205.5,1859.9432,201.5,1863.9432,205.5,1859.9432,209.5,1868.9432,205.5" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1814.5" y="198.5669">:3100</text><!--MD5=[7043c85058b1700a9dc7154ff884db01]
link Nginx3 to prometheus--><path d="M1768.6983,182.3594 C1786.1446,159.6591 1816.2008,126.4795 1851.5,112.5 C1897.7806,94.1715 2030.2579,91.74 2075.5,112.5 C2104.717,125.9066 2127.2916,155.8336 2140.8998,178.1395 " fill="none" id="Nginx3-&gt;prometheus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2143.5012,182.492,2142.3172,172.7146,2140.936,178.2002,2135.4503,176.819,2143.5012,182.492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="2001.5" y="97.5669">:9090</text><!--MD5=[dc7a7370fecbdb10166a3bf8917e47ff]
@startuml deployment
actor alice as a
frame "Application server" {

  node  Docker #aliceblue;line:blue;line.dotted;text:blue
  node node_exporter
  frame "Docker app-network" {
    node Nginx
    node MiniTwit
  }

a -> Docker : ":443"
a -> Docker : ":9100"
Docker-> Nginx : ":443"
Nginx -> MiniTwit: ":80"
Docker-> node_exporter : ":9100"
}

frame "Database server" {

  node Docker2 #aliceblue;line:blue;line.dotted;text:blue
  node node_exporter2
    database ./data/postgres/data as db {
    }

  frame "Docker db-network" as dockernet  {
    node Nginx2
    node Postgres

}


a -> Docker2 : ":9100"
Nginx2 -> Postgres : ":5432"
MiniTwit -> Docker2 : ":5432"
Docker2 -> Nginx2 : ":5432"
Docker2 -> node_exporter2 : ":9100"
Postgres - - db
}

frame "Monitoring server" {

  node  Docker3 #aliceblue;line:blue;line.dotted;text:blue
  frame "Docker monitoring-network" {
    node Nginx3
    node node_exporter3
    node prometheus
    node grafana
    node loki
    node data_scraper
  }


a -> Docker3 : ":80"
a -> Docker3 : ":443"
a -> Docker3 : ":3100"
a -> Docker3 : ":9090" 
a -> Docker3 : ":9100"

Docker3 -> Nginx3 : ":80, :443, :3100 and :9090"




prometheus -> node_exporter3 #line:red;text:red : ":9100"
prometheus -> data_scraper : ":8080"
prometheus -> prometheus : ":9090" 


Nginx3 -> grafana #line:green;text:green : ":3000"
Nginx3 -> loki #line:blue;text:blue :":3100"
Nginx3 -> prometheus : ":9090"




}



@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14-ea+33
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>